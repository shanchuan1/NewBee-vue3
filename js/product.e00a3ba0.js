"use strict";(self["webpackChunkNewBee"]=self["webpackChunkNewBee"]||[]).push([[18],{7554:function(t,a,o){o.d(a,{Z:function(){return w}});var n=o(3396),e=o(7139);const c=t=>((0,n.dD)("data-v-366c0458"),t=t(),(0,n.Cn)(),t),l={class:"simple-header van-hairline--bottom"},s={key:1},i={class:"simple-header-name"},d=c((()=>(0,n._)("i",{class:"nbicon nbmore"},null,-1))),r=c((()=>(0,n._)("div",{class:"block"},null,-1)));function u(t,a,o,c,u,p){return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("header",l,[c.isback?((0,n.wg)(),(0,n.iD)("i",s,"      ")):((0,n.wg)(),(0,n.iD)("i",{key:0,class:"nbicon nbfanhui",onClick:a[0]||(a[0]=(...t)=>c.goBack&&c.goBack(...t))})),(0,n._)("div",i,(0,e.zw)(o.name),1),d]),r],64)}var p=o(4870),g=o(678),v={props:{name:{type:String,default:""},back:{type:String,default:""},noback:{type:Boolean,default:!1}},emits:["callback"],setup(t,a){const o=(0,p.iH)(t.noback),n=(0,g.tv)(),e=()=>{t.back?n.push({path:t.back}):n.go(-1),a.emit("callback")};return{goBack:e,isback:o}}},k=o(89);const b=(0,k.Z)(v,[["render",u],["__scopeId","data-v-366c0458"]]);var w=b},8231:function(t,a,o){o.r(a),o.d(a,{default:function(){return T}});var n=o(3396),e=o(7139);const c={class:"product-detail"},l={class:"detail-content"},s={class:"detail-swipe-wrap"},i=["src"],d={class:"product-info"},r={class:"product-title"},u=(0,n._)("div",{class:"product-desc"},"免邮费 顺丰快递",-1),p={class:"product-price"},g={class:"product-intro"},v=(0,n._)("ul",null,[(0,n._)("li",null,"概述"),(0,n._)("li",null,"参数"),(0,n._)("li",null,"安装服务"),(0,n._)("li",null,"常见问题")],-1),k=["innerHTML"];function b(t,a,o,b,w,m){const C=(0,n.up)("s-header"),_=(0,n.up)("van-swipe-item"),h=(0,n.up)("van-swipe"),f=(0,n.up)("van-action-bar-icon"),y=(0,n.up)("van-action-bar-button"),B=(0,n.up)("van-action-bar");return(0,n.wg)(),(0,n.iD)("div",c,[(0,n.Wm)(C,{name:"商品详情"}),(0,n._)("div",l,[(0,n._)("div",s,[(0,n.Wm)(h,{class:"my-swipe","indicator-color":"#1baeae"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.detail.goodsCarouselList,((t,a)=>((0,n.wg)(),(0,n.j4)(_,{key:a},{default:(0,n.w5)((()=>[(0,n._)("img",{src:t,alt:""},null,8,i)])),_:2},1024)))),128))])),_:1})]),(0,n._)("div",d,[(0,n._)("div",r,(0,e.zw)(t.detail.goodsName||""),1),u,(0,n._)("div",p,[(0,n._)("span",null,"¥"+(0,e.zw)(t.detail.sellingPrice||""),1)])]),(0,n._)("div",g,[v,(0,n._)("div",{class:"product-content",innerHTML:t.detail.goodsDetailContent||""},null,8,k)])]),(0,n.Wm)(B,null,{default:(0,n.w5)((()=>[(0,n.Wm)(f,{icon:"chat-o",text:"客服"}),(0,n.Wm)(f,{icon:"cart-o",badge:b.count?b.count:"",onClick:a[0]||(a[0]=t=>b.goTo()),text:"购物车"},null,8,["badge"]),(0,n.Wm)(y,{type:"warning",color:"#be99ff",onClick:b.handleAddCart,text:"加入购物车"},null,8,["onClick"]),(0,n.Wm)(y,{type:"danger",color:"#7232dd",onClick:b.goToCart,text:"立即购买"},null,8,["onClick"])])),_:1})])}o(767);var w=o(7619),m=o(8809),C=o(4870),_=o(678),h=o(65),f=o(7554),y={setup(){const t=(0,_.yj)(),a=(0,_.tv)(),o=(0,h.oR)(),e=(0,C.qj)({detail:{goodsCarouselList:[]}});(0,n.bv)((async()=>{const{id:a}=t.query;console.log(a);const{data:n}=await(0,m.Nm)(a);console.log(n),e.detail=n,o.dispatch("updateCart")})),(0,n.Y3)((()=>{const t=document.querySelector(".detail-content");t.scrollTop=0}));const c=()=>{a.go(-1)},l=()=>{a.push({path:"/cart"})},s=async()=>{const{resultCode:t}=await(0,m.Z5)({goodsCount:1,goodsId:e.detail.goodsId});200==t&&w.Z.success("添加成功"),o.dispatch("updateCart")},i=async()=>{await(0,m.Z5)({goodsCount:1,goodsId:e.detail.goodsId}),o.dispatch("updateCart"),a.push({path:"/cart"})},d=(0,n.Fl)((()=>(console.log(111,o.state.cartCount),o.state.cartCount)));return{...(0,C.BK)(e),goBack:c,goTo:l,handleAddCart:s,goToCart:i,count:d}},components:{sHeader:f.Z}},B=o(89);const D=(0,B.Z)(y,[["render",b]]);var T=D}}]);
//# sourceMappingURL=product.e00a3ba0.js.map