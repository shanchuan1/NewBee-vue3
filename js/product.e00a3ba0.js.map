{"version":3,"file":"js/product.e00a3ba0.js","mappings":"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","sources":["webpack://NewBee/./src/components/SimpleHeader.vue","webpack://NewBee/./src/components/SimpleHeader.vue?b208","webpack://NewBee/./src/views/ProductDetail.vue","webpack://NewBee/./src/views/ProductDetail.vue?f49c"],"sourcesContent":["<template>\n  <header class=\"simple-header van-hairline--bottom\">\n    <i v-if=\"!isback\" class=\"nbicon nbfanhui\" @click=\"goBack\"></i>\n    <i v-else>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</i>\n    <div class=\"simple-header-name\">{{ name }}</div>\n    <i class=\"nbicon nbmore\"></i>\n  </header>\n  <div class=\"block\" />\n</template>\n\n<script>\nimport { ref } from 'vue'\nimport { useRouter } from 'vue-router'\nexport default {\n  props: {\n    name: {\n      type: String,\n      default: ''\n    },\n    back: {\n      type: String,\n      default: ''\n    },\n    noback: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['callback'],\n  setup(props, ctx) {\n    const isback = ref(props.noback)\n    const router = useRouter()\n    const goBack = () => {\n      if (!props.back) {\n        router.go(-1)\n      } else {\n        router.push({ path: props.back })\n      }\n      ctx.emit('callback')\n    }\n    return {\n      goBack,\n      isback\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n  @import '../common/style/mixin';\n  .simple-header {\n    position: fixed;\n    top: 0;\n    left: 0;\n    z-index: 10000;\n    .fj();\n    .wh(100%, 44px);\n    line-height: 44px;\n    padding: 0 10px;\n    .boxSizing();\n    color: #252525;\n    background: #fff;\n    .simple-header-name {\n      font-size: 14px;\n    }\n  }\n  .block {\n    height: 44px;\n  }\n</style>","import { render } from \"./SimpleHeader.vue?vue&type=template&id=366c0458&scoped=true\"\nimport script from \"./SimpleHeader.vue?vue&type=script&lang=js\"\nexport * from \"./SimpleHeader.vue?vue&type=script&lang=js\"\n\nimport \"./SimpleHeader.vue?vue&type=style&index=0&id=366c0458&lang=less&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\大娱乐家\\\\Desktop\\\\h5-master\\\\code-vue3\\\\NewBee-vue3\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-366c0458\"]])\n\nexport default __exports__","\n<template>\n  <div class=\"product-detail\">\n    <s-header :name=\"'商品详情'\"></s-header>\n    <div class=\"detail-content\">\n      <div class=\"detail-swipe-wrap\">\n        <van-swipe class=\"my-swipe\" indicator-color=\"#1baeae\">\n          <van-swipe-item v-for=\"(item, index) in detail.goodsCarouselList\" :key=\"index\">\n            <img :src=\"item\" alt=\"\">\n          </van-swipe-item>\n        </van-swipe>\n      </div>\n      <div class=\"product-info\">\n        <div class=\"product-title\">\n          {{ detail.goodsName || '' }}\n        </div>\n        <div class=\"product-desc\">免邮费 顺丰快递</div>\n        <div class=\"product-price\">\n          <span>¥{{ detail.sellingPrice || '' }}</span>\n          <!-- <span>库存203</span> -->\n        </div>\n      </div>\n      <div class=\"product-intro\">\n        <ul>\n          <li>概述</li>\n          <li>参数</li>\n          <li>安装服务</li>\n          <li>常见问题</li>\n        </ul>\n        <div class=\"product-content\" v-html=\"detail.goodsDetailContent || ''\"></div>\n      </div>\n    </div>\n    <van-action-bar>\n      <van-action-bar-icon icon=\"chat-o\" text=\"客服\" />\n      <van-action-bar-icon icon=\"cart-o\" :badge=\"!count ? '' : count\" @click=\"goTo()\" text=\"购物车\" />\n      <van-action-bar-button type=\"warning\" color=\"#be99ff\" @click=\"handleAddCart\" text=\"加入购物车\" />\n      <van-action-bar-button type=\"danger\" color=\"#7232dd\"  @click=\"goToCart\" text=\"立即购买\" />\n    </van-action-bar>\n  </div>\n</template>\n\n<script>\nimport { getDetail } from '@/request/api'\nimport { addCart } from '@/request/api'\n\nimport { reactive, onMounted, computed, toRefs, nextTick } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { useStore } from 'vuex'\nimport sHeader from '@/components/SimpleHeader'\nimport { Toast } from 'vant'\nexport default {\n  setup() {\n    const route = useRoute()\n    const router = useRouter()\n    const store = useStore()\n\n    const state = reactive({\n      detail: {\n        goodsCarouselList: []\n      }\n    })\n\n    onMounted(async () => {\n      // const { id } = route.params\n      const { id } = route.query\n      console.log(id);\n      const { data } = await getDetail(id)\n      console.log(data);\n      state.detail = data\n      store.dispatch('updateCart')\n    })\n\n    nextTick(() => {\n      // 一些和DOM有关的东西\n      const content = document.querySelector('.detail-content')\n      content.scrollTop = 0\n    })\n\n    const goBack = () => {\n      router.go(-1)\n    }\n\n    const goTo = () => {\n      router.push({ path: '/cart' })\n    }\n\n    const handleAddCart = async () => {\n      const { resultCode } = await addCart({ goodsCount: 1, goodsId: state.detail.goodsId })\n      if (resultCode == 200 ) Toast.success('添加成功')\n      store.dispatch('updateCart')\n    }\n\n    const goToCart = async () => {\n      await addCart({ goodsCount: 1, goodsId: state.detail.goodsId })\n      store.dispatch('updateCart')\n      router.push({ path: '/cart' })\n    }\n\n    const count = computed(() => {\n      console.log(111, store.state.cartCount)\n      return store.state.cartCount\n    })\n\n    return {\n      ...toRefs(state),\n      goBack,\n      goTo,\n      handleAddCart,\n      goToCart,\n      count\n    }\n  },\n  components: {\n    sHeader\n  }\n}\n</script>\n\n<style lang=\"less\">\n  @import '../common/style/mixin';\n  .product-detail {\n    .detail-header {\n      position: fixed;\n      top: 0;\n      left: 0;\n      z-index: 10000;\n      .fj();\n      .wh(100%, 44px);\n      line-height: 44px;\n      padding: 0 10px;\n      .boxSizing();\n      color: #252525;\n      background: #fff;\n      border-bottom: 1px solid #dcdcdc;\n      .product-name {\n        font-size: 14px;\n      }\n    }\n    .detail-content {\n      height: calc(100vh - 50px);\n      overflow: hidden;\n      overflow-y: auto;\n      .detail-swipe-wrap {\n        .my-swipe .van-swipe-item {\n          img {\n            width: 100%;\n            // height: 300px;\n          }\n        }\n      }\n      .product-info {\n        padding: 0 10px;\n        .product-title {\n          font-size: 18px;\n          text-align: left;\n          color: #333;\n        }\n        .product-desc {\n          font-size: 14px;\n          text-align: left;\n          color: #999;\n          padding: 5px 0;\n        }\n        .product-price {\n          .fj();\n          span:nth-child(1) {\n            color: #F63515;\n            font-size: 22px;\n          }\n          span:nth-child(2) {\n            color: #999;\n            font-size: 16px;\n          }\n        }\n      }\n      .product-intro {\n        width: 100%;\n        padding-bottom: 50px;\n        ul {\n          .fj();\n          width: 100%;\n          margin: 10px 0;\n          li {\n            flex: 1;\n            padding: 5px 0;\n            text-align: center;\n            font-size: 15px;\n            border-right: 1px solid #999;\n            box-sizing: border-box;\n            &:last-child {\n              border-right: none;\n            }\n          }\n        }\n        .product-content {\n          padding: 0 20px;\n          img {\n            width: 100%;\n          }\n        }\n      }\n    }\n    .van-action-bar-button--warning {\n      background: linear-gradient(to right,#6bd8d8, @primary)\n    }\n    .van-action-bar-button--danger {\n      background: linear-gradient(to right, #0dc3c3, #098888)\n    }\n  }\n</style>\n","import { render } from \"./ProductDetail.vue?vue&type=template&id=36dc312a\"\nimport script from \"./ProductDetail.vue?vue&type=script&lang=js\"\nexport * from \"./ProductDetail.vue?vue&type=script&lang=js\"\n\nimport \"./ProductDetail.vue?vue&type=style&index=0&id=36dc312a&lang=less\"\n\nimport exportComponent from \"C:\\\\Users\\\\大娱乐家\\\\Desktop\\\\h5-master\\\\code-vue3\\\\NewBee-vue3\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","$setup","_createElementBlock","_hoisted_2","onClick","_toDisplayString","$props","_hoisted_4","_hoisted_5","props","name","type","String","default","back","noback","Boolean","emits","setup","ctx","isback","ref","router","useRouter","goBack","push","path","go","emit","__exports__","render","_createVNode","_component_s_header","_component_van_swipe","_Fragment","_renderList","_ctx","goodsCarouselList","item","index","_createBlock","_component_van_swipe_item","key","src","alt","goodsName","_hoisted_7","sellingPrice","_hoisted_10","innerHTML","goodsDetailContent","_component_van_action_bar","_component_van_action_bar_icon","icon","text","badge","_component_van_action_bar_button","color","route","useRoute","store","useStore","state","reactive","detail","onMounted","async","id","query","console","log","data","getDetail","dispatch","nextTick","content","document","querySelector","scrollTop","goTo","handleAddCart","resultCode","addCart","goodsCount","goodsId","goToCart","count","computed","cartCount","toRefs","components","sHeader"],"sourceRoot":""}